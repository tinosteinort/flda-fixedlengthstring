package com.github.tinosteinort.flda.fixedlengthstring.writer;

import com.github.tinosteinort.flda.fixedlengthstring.FixedLengthString;
import com.github.tinosteinort.flda.fixedlengthstring.FixedLengthStringAttribute;
import org.junit.Test;

import java.math.BigDecimal;

import static org.junit.Assert.assertEquals;

public class BigDecimalAttributeWriterTest {

    private final BigDecimalAttributeWriter writer = new BigDecimalAttributeWriter();

    @Test public void writeBigValue() {
        final FixedLengthString data = new FixedLengthString(579, ' ');
        final FixedLengthStringAttribute<BigDecimal> attribute = new FixedLengthStringAttribute<>(BigDecimal.class, 0, 579);
        writer.write(data, attribute, new BigDecimal("9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999"));
        assertEquals("9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999.9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999", data.toString());
    }

    @Test public void writeNull() {
        final FixedLengthString data = new FixedLengthString(10, ' ');
        final FixedLengthStringAttribute<BigDecimal> attribute = new FixedLengthStringAttribute<>(BigDecimal.class, 0, 10);
        writer.write(data, attribute, null);
        assertEquals("          ", data.toString());
    }
}
